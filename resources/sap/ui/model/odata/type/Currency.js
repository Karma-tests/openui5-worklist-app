/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge","sap/ui/model/type/Currency"],function(t,e){"use strict";var r=new Map;var n=e.extend("sap.ui.model.odata.type.Currency",{constructor:function(r,n,o){if(r&&r["customCurrencies"]){throw new Error("Format option customCurrencies is not supported")}if(n){throw new Error("Constraints not supported")}if(arguments.length>2){throw new Error("Only the parameter oFormatOptions is supported")}r=t({parseAsString:true},r);e.call(this,r,n);this.setConstraints=function(){throw new Error("Constraints not supported")};this.setFormatOptions=function(){throw new Error("Format options are immutable")};this.mCustomCurrencies=undefined}});n.prototype.formatValue=function(n,o){var i=this;function s(t){return t===undefined||t===null}if(!n||s(n[0])||s(n[1])||n[2]===undefined&&this.mCustomCurrencies===undefined){return null}if(this.mCustomCurrencies===undefined){if(n[2]===null){this.mCustomCurrencies=null}else{this.mCustomCurrencies=r.get(n[2]);if(!this.mCustomCurrencies){this.mCustomCurrencies={};Object.keys(n[2]).forEach(function(t){i.mCustomCurrencies[t]={decimals:n[2][t].UnitSpecificScale,isoCode:n[2][t].StandardCode}});r.set(n[2],this.mCustomCurrencies)}e.prototype.setFormatOptions.call(this,t({customCurrencies:this.mCustomCurrencies},this.oFormatOptions))}}return e.prototype.formatValue.call(this,n.slice(0,2),o)};n.prototype.getInterface=function(){return this};n.prototype.getName=function(){return"sap.ui.model.odata.type.Currency"};n.prototype.parseValue=function(t,r){if(!this.mCustomCurrencies){throw new Error("Cannot parse value without currency customizing")}return e.prototype.parseValue.apply(this,arguments)};n.prototype.validateValue=function(t){if(this.mCustomCurrencies===undefined){throw new Error("Cannot validate value without currency customizing")}};return n});